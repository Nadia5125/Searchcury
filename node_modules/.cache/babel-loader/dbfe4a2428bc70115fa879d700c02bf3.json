{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nms\\\\Desktop\\\\Searchcury\\\\src\\\\movie\\\\MovieApp.js\";\nimport React, { Component } from 'react';\nimport Rear from 'react-bootstrap';\nimport SearchBox from './SearchBox';\nimport MovieList from './MovieList';\nimport Pagination from './Pagination';\nimport MovieInfo from './MovieInfo';\n; // import './MovieApp.css';\n\nclass MovieApp extends Component {\n  constructor() {\n    super();\n\n    this.handleSearch = e => {\n      this.setState({\n        searchTerm: e.target.value\n      });\n    };\n\n    this.logData = () => {\n      console.log(process.env.REACT_APP_API);\n    };\n\n    this.handleSubmit = e => {\n      fetch(`https://api.themoviedb.org/3/search/movie?api_key=${this.apiKey}&query=${this.state.searchTerm}&language=en-US&page=${this.state.currentPage}`).then(data => data.json()).then(data => {\n        console.log(data);\n        this.setState({\n          movies: [...data.results],\n          totalResults: data.total_results\n        });\n      });\n      e.preventDefault();\n    };\n\n    this.nextPage = pageNumber => {\n      fetch(`https://api.themoviedb.org/3/search/movie?api_key=${this.apiKey}&query=${this.state.searchTerm}&language=en-US&page=${pageNumber}`).then(data => data.json()).then(data => {\n        console.log(data);\n        this.setState({\n          movies: [...data.results],\n          totalResults: data.total_results,\n          currentPage: pageNumber\n        });\n      });\n    };\n\n    this.viewMovieInfo = id => {\n      let filteredMovie;\n      this.state.movies.forEach((movie, i) => {\n        if (movie.id === id) {\n          filteredMovie = movie;\n        }\n      });\n      this.setState({\n        currentMovie: filteredMovie\n      });\n    };\n\n    this.closeMovieInfo = () => {\n      this.setState({\n        currentMovie: null\n      });\n    };\n\n    this.state = {\n      movies: [],\n      totalResults: 0,\n      searchTerm: '',\n      currentPage: 1,\n      currentMovie: null\n    };\n    this.apiKey = process.env.REACT_APP_API;\n  }\n\n  //this for the pagination on the bottom\n  render() {\n    let numberPages = Math.floor(this.state.totalResults / 20);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }\n    }, this.state.currentMovie == null ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 46\n      }\n    }, /*#__PURE__*/React.createElement(SearchBox, {\n      handleSubmit: this.handleSubmit,\n      handleChange: this.handleSearch,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 51\n      }\n    }), /*#__PURE__*/React.createElement(MovieList, {\n      viewMovieInfo: this.viewMovieInfo,\n      movies: this.state.movies,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 129\n      }\n    })) : /*#__PURE__*/React.createElement(MovieInfo, {\n      closeMovieInfo: this.closeMovieInfo,\n      currentMovie: this.state.currentMovie,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 212\n      }\n    }), this.state.totalResults > 20 && this.state.currentMovie == null ? /*#__PURE__*/React.createElement(Pagination, {\n      pages: numberPages,\n      nextPage: this.nextPage,\n      currentPage: this.state.currentPage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 80\n      }\n    }) : '');\n  }\n\n}\n\nexport default MovieApp;","map":{"version":3,"sources":["C:/Users/nms/Desktop/Searchcury/src/movie/MovieApp.js"],"names":["React","Component","Rear","SearchBox","MovieList","Pagination","MovieInfo","MovieApp","constructor","handleSearch","e","setState","searchTerm","target","value","logData","console","log","process","env","REACT_APP_API","handleSubmit","fetch","apiKey","state","currentPage","then","data","json","movies","results","totalResults","total_results","preventDefault","nextPage","pageNumber","viewMovieInfo","id","filteredMovie","forEach","movie","i","currentMovie","closeMovieInfo","render","numberPages","Math","floor"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,IAAP,MAAiB,iBAAjB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AAAoC,C,CACpC;;AAEA,MAAMC,QAAN,SAAuBN,SAAvB,CAAiC;AAC/BO,EAAAA,WAAW,GAAE;AACX;;AADW,SAYbC,YAZa,GAYGC,CAAD,IAAO;AACpB,WAAKC,QAAL,CAAc;AAAEC,QAAAA,UAAU,EAAEF,CAAC,CAACG,MAAF,CAASC;AAAvB,OAAd;AACD,KAdY;;AAAA,SAgBbC,OAhBa,GAgBH,MAAM;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYC,OAAO,CAACC,GAAR,CAAYC,aAAxB;AACD,KAlBY;;AAAA,SAoBbC,YApBa,GAoBGX,CAAD,IAAO;AACpBY,MAAAA,KAAK,CAAE,qDAAoD,KAAKC,MAAO,UAAS,KAAKC,KAAL,CAAWZ,UAAW,wBAAuB,KAAKY,KAAL,CAAWC,WAAY,EAA/I,CAAL,CACCC,IADD,CACMC,IAAI,IAAIA,IAAI,CAACC,IAAL,EADd,EAECF,IAFD,CAEMC,IAAI,IAAI;AACZX,QAAAA,OAAO,CAACC,GAAR,CAAYU,IAAZ;AACA,aAAKhB,QAAL,CAAc;AAAEkB,UAAAA,MAAM,EAAE,CAAC,GAAGF,IAAI,CAACG,OAAT,CAAV;AAA6BC,UAAAA,YAAY,EAAEJ,IAAI,CAACK;AAAhD,SAAd;AACD,OALD;AAOAtB,MAAAA,CAAC,CAACuB,cAAF;AACD,KA7BY;;AAAA,SAiCbC,QAjCa,GAiCDC,UAAD,IAAgB;AACzBb,MAAAA,KAAK,CAAE,qDAAoD,KAAKC,MAAO,UAAS,KAAKC,KAAL,CAAWZ,UAAW,wBAAuBuB,UAAW,EAAnI,CAAL,CACCT,IADD,CACMC,IAAI,IAAIA,IAAI,CAACC,IAAL,EADd,EAECF,IAFD,CAEMC,IAAI,IAAI;AACZX,QAAAA,OAAO,CAACC,GAAR,CAAYU,IAAZ;AACD,aAAKhB,QAAL,CAAc;AAAEkB,UAAAA,MAAM,EAAE,CAAC,GAAGF,IAAI,CAACG,OAAT,CAAV;AAA6BC,UAAAA,YAAY,EAAEJ,IAAI,CAACK,aAAhD;AAA+DP,UAAAA,WAAW,EAAEU;AAA5E,SAAd;AACA,OALD;AAMD,KAxCY;;AAAA,SA4CbC,aA5Ca,GA4CIC,EAAD,IAAQ;AACtB,UAAIC,aAAJ;AACA,WAAKd,KAAL,CAAWK,MAAX,CAAkBU,OAAlB,CAA0B,CAACC,KAAD,EAAQC,CAAR,KAAc;AACtC,YAAGD,KAAK,CAACH,EAAN,KAAaA,EAAhB,EAAoB;AAClBC,UAAAA,aAAa,GAAGE,KAAhB;AACD;AACF,OAJD;AAMA,WAAK7B,QAAL,CAAc;AAAE+B,QAAAA,YAAY,EAAEJ;AAAhB,OAAd;AACD,KArDY;;AAAA,SAuDbK,cAvDa,GAuDI,MAAM;AACrB,WAAKhC,QAAL,CAAc;AAAE+B,QAAAA,YAAY,EAAE;AAAhB,OAAd;AACD,KAzDY;;AAEX,SAAKlB,KAAL,GAAa;AACXK,MAAAA,MAAM,EAAE,EADG;AAEXE,MAAAA,YAAY,EAAE,CAFH;AAGXnB,MAAAA,UAAU,EAAE,EAHD;AAIXa,MAAAA,WAAW,EAAE,CAJF;AAKXiB,MAAAA,YAAY,EAAE;AALH,KAAb;AAOA,SAAKnB,MAAL,GAAcL,OAAO,CAACC,GAAR,CAAYC,aAA1B;AACD;;AAkDD;AACAwB,EAAAA,MAAM,GAAG;AACP,QAAIC,WAAW,GAAGC,IAAI,CAACC,KAAL,CAAW,KAAKvB,KAAL,CAAWO,YAAX,GAA0B,EAArC,CAAlB;AACA,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAGG,KAAKP,KAAL,CAAWkB,YAAX,IAA2B,IAA3B,gBAAkC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAK,oBAAC,SAAD;AAAW,MAAA,YAAY,EAAE,KAAKrB,YAA9B;AAA4C,MAAA,YAAY,EAAE,KAAKZ,YAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAL,eAAmF,oBAAC,SAAD;AAAW,MAAA,aAAa,EAAE,KAAK2B,aAA/B;AAA8C,MAAA,MAAM,EAAE,KAAKZ,KAAL,CAAWK,MAAjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAnF,CAAlC,gBAAwM,oBAAC,SAAD;AAAW,MAAA,cAAc,EAAE,KAAKc,cAAhC;AAAgD,MAAA,YAAY,EAAE,KAAKnB,KAAL,CAAWkB,YAAzE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAH3M,EAIK,KAAKlB,KAAL,CAAWO,YAAX,GAA0B,EAA1B,IAAgC,KAAKP,KAAL,CAAWkB,YAAX,IAA2B,IAA3D,gBAAkE,oBAAC,UAAD;AAAY,MAAA,KAAK,EAAEG,WAAnB;AAAgC,MAAA,QAAQ,EAAE,KAAKX,QAA/C;AAAyD,MAAA,WAAW,EAAE,KAAKV,KAAL,CAAWC,WAAjF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAlE,GAAoK,EAJzK,CADJ;AAQD;;AAxE8B;;AA2EjC,eAAelB,QAAf","sourcesContent":["import React, { Component } from 'react';\nimport Rear from 'react-bootstrap';\nimport SearchBox from './SearchBox';\nimport MovieList from './MovieList';\nimport Pagination from './Pagination';\nimport MovieInfo from './MovieInfo';;\n// import './MovieApp.css';\n\nclass MovieApp extends Component {\n  constructor(){\n    super()\n    this.state = {\n      movies: [],\n      totalResults: 0,\n      searchTerm: '',\n      currentPage: 1,\n      currentMovie: null\n    }\n    this.apiKey = process.env.REACT_APP_API\n  }\n\n  handleSearch = (e) => {\n    this.setState({ searchTerm: e.target.value })\n  }\n\n  logData = () => {\n    console.log(process.env.REACT_APP_API);\n  }\n\n  handleSubmit = (e) => { \n    fetch(`https://api.themoviedb.org/3/search/movie?api_key=${this.apiKey}&query=${this.state.searchTerm}&language=en-US&page=${this.state.currentPage}`)\n    .then(data => data.json())\n    .then(data => {\n      console.log(data);\n      this.setState({ movies: [...data.results], totalResults: data.total_results})\n    })\n    \n    e.preventDefault()\n  }\n\n\n  //this for the more movie list on the bottom by using numbers and next\n  nextPage = (pageNumber) => {\n    fetch(`https://api.themoviedb.org/3/search/movie?api_key=${this.apiKey}&query=${this.state.searchTerm}&language=en-US&page=${pageNumber}`)\n    .then(data => data.json())\n    .then(data => {\n      console.log(data);\n     this.setState({ movies: [...data.results], totalResults: data.total_results, currentPage: pageNumber})\n    })\n  }\n   \n\n  //this for the movie detail\n  viewMovieInfo = (id) => {\n    let filteredMovie;\n    this.state.movies.forEach((movie, i) => {\n      if(movie.id === id) {\n        filteredMovie = movie\n      }\n    }) \n\n    this.setState({ currentMovie: filteredMovie })  \n  }\n\n  closeMovieInfo = () => {\n    this.setState({ currentMovie: null })\n  }\n\n\n  //this for the pagination on the bottom\n  render() {\n    let numberPages = Math.floor(this.state.totalResults / 20);\n    return (\n        <div>\n          \n          \n          {this.state.currentMovie == null ? <div><SearchBox handleSubmit={this.handleSubmit} handleChange={this.handleSearch}/><MovieList viewMovieInfo={this.viewMovieInfo} movies={this.state.movies}/></div> : <MovieInfo closeMovieInfo={this.closeMovieInfo} currentMovie={this.state.currentMovie} />}\n            {this.state.totalResults > 20 && this.state.currentMovie == null ? <Pagination pages={numberPages} nextPage={this.nextPage} currentPage={this.state.currentPage}/> : ''}\n        </div>\n    );\n  }\n}\n\nexport default MovieApp;\n"]},"metadata":{},"sourceType":"module"}